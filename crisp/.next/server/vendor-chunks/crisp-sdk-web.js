"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/crisp-sdk-web";
exports.ids = ["vendor-chunks/crisp-sdk-web"];
exports.modules = {

/***/ "(ssr)/../node_modules/crisp-sdk-web/dist/crisp.esm.js":
/*!*******************************************************!*\
  !*** ../node_modules/crisp-sdk-web/dist/crisp.esm.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatboxColors: () => (/* binding */ ChatboxColors),\n/* harmony export */   ChatboxPosition: () => (/* binding */ ChatboxPosition),\n/* harmony export */   Crisp: () => (/* binding */ singleton),\n/* harmony export */   CrispClass: () => (/* binding */ Crisp),\n/* harmony export */   EventsColors: () => (/* binding */ EventsColors)\n/* harmony export */ });\nvar CrispMessage = /** @class */ (function () {\n    function CrispMessage(crisp) {\n        this.parent = crisp;\n    }\n    CrispMessage.prototype.setMessageText = function (content) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"message:text\", [content]]);\n    };\n    CrispMessage.prototype.send = function (type, content) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:send\", [type, content]]);\n    };\n    CrispMessage.prototype.sendText = function (content) {\n        this.send(\"text\", content);\n    };\n    CrispMessage.prototype.sendFile = function (content) {\n        this.send(\"file\", content);\n    };\n    CrispMessage.prototype.sendAnimation = function (content) {\n        this.send(\"animation\", content);\n    };\n    CrispMessage.prototype.sendAudio = function (content) {\n        this.send(\"audio\", content);\n    };\n    CrispMessage.prototype.show = function (type, content) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:show\", [type, content]]);\n    };\n    CrispMessage.prototype.showText = function (content) {\n        this.show(\"text\", content);\n    };\n    CrispMessage.prototype.showFile = function (content) {\n        this.show(\"file\", content);\n    };\n    CrispMessage.prototype.showAnimation = function (content) {\n        this.show(\"animation\", content);\n    };\n    CrispMessage.prototype.showAudio = function (content) {\n        this.show(\"audio\", content);\n    };\n    CrispMessage.prototype.showPicker = function (content) {\n        this.show(\"picker\", content);\n    };\n    CrispMessage.prototype.showField = function (content) {\n        this.show(\"field\", content);\n    };\n    CrispMessage.prototype.showCarousel = function (content) {\n        this.show(\"carousel\", content);\n    };\n    CrispMessage.prototype.markAsRead = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:read\"]);\n    };\n    CrispMessage.prototype.startThread = function (name) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:thread:start\", [name]]);\n    };\n    CrispMessage.prototype.endThread = function (name) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:thread:end\", [name]]);\n    };\n    CrispMessage.prototype.onMessageSent = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offMessageSent();\n        window.$crisp.push([\"on\", \"message:sent\", callback]);\n    };\n    CrispMessage.prototype.offMessageSent = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:sent\"]);\n    };\n    CrispMessage.prototype.onMessageReceived = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offMessageReceived();\n        window.$crisp.push([\"on\", \"message:received\", callback]);\n    };\n    CrispMessage.prototype.offMessageReceived = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:received\"]);\n    };\n    CrispMessage.prototype.onMessageComposeSent = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offMessageComposeSent();\n        window.$crisp.push([\"on\", \"message:compose:sent\", callback]);\n    };\n    CrispMessage.prototype.offMessageComposeSent = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:compose:sent\"]);\n    };\n    CrispMessage.prototype.onMessageComposeReceived = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offMessageComposeReceived();\n        window.$crisp.push([\"on\", \"message:compose:received\", callback]);\n    };\n    CrispMessage.prototype.offMessageComposeReceived = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:compose:received\"]);\n    };\n    return CrispMessage;\n}());\n\nvar CrispUser = /** @class */ (function () {\n    function CrispUser(crisp) {\n        this.parent = crisp;\n    }\n    CrispUser.prototype.setNickname = function (nickname) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:nickname\", [nickname]]);\n    };\n    CrispUser.prototype.setEmail = function (email, hmac) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:email\", [email, hmac]]);\n    };\n    CrispUser.prototype.setPhone = function (phone) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:phone\", [phone]]);\n    };\n    CrispUser.prototype.setAvatar = function (avatar) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:avatar\", [avatar]]);\n    };\n    CrispUser.prototype.setCompany = function (name, data) {\n        var _payload = {};\n        if (data) {\n            if (data.url) {\n                _payload.url = data.url;\n            }\n            if (data.description) {\n                _payload.description = data.description;\n            }\n            if (data.employment) {\n                _payload.employment = [\n                    data.employment.title\n                ];\n                if (data.employment.role) {\n                    _payload.employment.push(data.employment.role);\n                }\n            }\n        }\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:company\", [name, _payload]]);\n    };\n    CrispUser.prototype.getEmail = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:email\");\n    };\n    CrispUser.prototype.getPhone = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:phone\");\n    };\n    CrispUser.prototype.getNickname = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:nickname\");\n    };\n    CrispUser.prototype.getAvatar = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:avatar\");\n    };\n    CrispUser.prototype.getCompany = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:company\");\n    };\n    CrispUser.prototype.onEmailChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            this.offEmailChanged();\n            window.$crisp.push([\"on\", \"user:email:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.offEmailChanged = function () {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:email:changed\"]);\n        }\n    };\n    CrispUser.prototype.onPhoneChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            this.offPhoneChanged();\n            window.$crisp.push([\"on\", \"user:phone:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.offPhoneChanged = function () {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:phone:changed\"]);\n        }\n    };\n    CrispUser.prototype.onNicknameChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            this.offNicknameChanged();\n            window.$crisp.push([\"on\", \"user:nickname:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.offNicknameChanged = function () {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:nickname:changed\"]);\n        }\n    };\n    CrispUser.prototype.onAvatarChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            this.offAvatarChanged();\n            window.$crisp.push([\"on\", \"user:avatar:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.offAvatarChanged = function () {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:avatar:changed\"]);\n        }\n    };\n    return CrispUser;\n}());\n\nvar CrispTrigger = /** @class */ (function () {\n    function CrispTrigger(crisp) {\n        this.parent = crisp;\n    }\n    CrispTrigger.prototype.run = function (name) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"trigger:run\", [name]]);\n    };\n    return CrispTrigger;\n}());\n\nvar EventsColors;\n(function (EventsColors) {\n    EventsColors[\"Red\"] = \"red\";\n    EventsColors[\"Orange\"] = \"orange\";\n    EventsColors[\"Yellow\"] = \"yellow\";\n    EventsColors[\"Green\"] = \"green\";\n    EventsColors[\"Blue\"] = \"blue\";\n    EventsColors[\"Purple\"] = \"purple\";\n    EventsColors[\"Pink\"] = \"pink\";\n    EventsColors[\"Brown\"] = \"brown\";\n    EventsColors[\"Grey\"] = \"grey\";\n    EventsColors[\"Black\"] = \"black\";\n})(EventsColors || (EventsColors = {}));\nvar CrispSession = /** @class */ (function () {\n    function CrispSession(crisp) {\n        this.parent = crisp;\n    }\n    CrispSession.prototype.reset = function (reload) {\n        if (reload === void 0) { reload = false; }\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"do\", \"session:reset\", [reload]]);\n        }\n    };\n    CrispSession.prototype.setSegments = function (segments, overwrite) {\n        this.parent.createSingletonIfNecessary();\n        $crisp.push([\"set\", \"session:segments\", [segments, overwrite]]);\n    };\n    CrispSession.prototype.setData = function (data) {\n        var _this = this;\n        var _payload = [];\n        Object.entries(data).forEach(function (item) {\n            if (_this.isValidDataValue(item[0])) {\n                _payload.push([item[0], item[1]]);\n            }\n        });\n        this.parent.createSingletonIfNecessary();\n        $crisp.push([\"set\", \"session:data\", [_payload]]);\n    };\n    CrispSession.prototype.pushEvent = function (name, data, color) {\n        if (data === void 0) { data = {}; }\n        if (color === void 0) { color = EventsColors.Blue; }\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"set\", \"session:event\", [[[name, data, color]]]]);\n        }\n    };\n    CrispSession.prototype.getData = function (key) {\n        if (!this.parent.isCrispInjected()) {\n            return undefined;\n        }\n        return window.$crisp.get(\"session:data\", key);\n    };\n    CrispSession.prototype.getIdentifier = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"session:identifier\");\n    };\n    CrispSession.prototype.onLoaded = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offLoaded();\n        window.$crisp.push([\"on\", \"session:loaded\", callback]);\n    };\n    CrispSession.prototype.offLoaded = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"session:loaded\"]);\n    };\n    CrispSession.prototype.isValidDataValue = function (value) {\n        return (typeof value === \"string\" ||\n            typeof value === \"number\" ||\n            typeof value === \"boolean\");\n    };\n    return CrispSession;\n}());\n\nvar CrispChat = /** @class */ (function () {\n    function CrispChat(crisp) {\n        this.parent = crisp;\n    }\n    CrispChat.prototype.show = function () {\n        this.parent.autoInjectIfNecessary();\n        window.$crisp.push([\"do\", \"chat:show\"]);\n    };\n    CrispChat.prototype.hide = function () {\n        this.parent.autoInjectIfNecessary();\n        window.$crisp.push([\"do\", \"chat:hide\"]);\n    };\n    CrispChat.prototype.open = function () {\n        this.parent.autoInjectIfNecessary();\n        window.$crisp.push([\"do\", \"chat:open\"]);\n    };\n    CrispChat.prototype.close = function () {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"do\", \"chat:close\"]);\n        }\n    };\n    CrispChat.prototype.setHelpdeskView = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"helpdesk:search\"]);\n    };\n    CrispChat.prototype.openHelpdeskArticle = function (locale, slug, title, category) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"helpdesk:article:open\", [\n                locale,\n                slug,\n                title,\n                category\n            ]]);\n    };\n    CrispChat.prototype.queryHelpdesk = function (query) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"helpdesk:query\", [query]]);\n    };\n    CrispChat.prototype.unreadCount = function () {\n        if (!this.parent.isCrispInjected()) {\n            return 0;\n        }\n        return window.$crisp.get(\"chat:unread:count\");\n    };\n    CrispChat.prototype.isChatOpened = function () {\n        if (!this.parent.isCrispInjected()) {\n            return false;\n        }\n        return window.$crisp.is(\"chat:opened\");\n    };\n    CrispChat.prototype.isVisible = function () {\n        if (!this.parent.isCrispInjected()) {\n            return false;\n        }\n        return window.$crisp.is(\"chat:visible\");\n    };\n    CrispChat.prototype.onChatInitiated = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offChatInitiated();\n        window.$crisp.push([\"on\", \"chat:initiated\", callback]);\n    };\n    CrispChat.prototype.offChatInitiated = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"chat:initiated\"]);\n    };\n    CrispChat.prototype.onChatOpened = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offChatOpened();\n        window.$crisp.push([\"on\", \"chat:opened\", callback]);\n    };\n    CrispChat.prototype.offChatOpened = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"chat:opened\"]);\n    };\n    CrispChat.prototype.onChatClosed = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offChatClosed();\n        window.$crisp.push([\"on\", \"chat:closed\", callback]);\n    };\n    CrispChat.prototype.offChatClosed = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"chat:closed\"]);\n    };\n    CrispChat.prototype.onHelpdeskQueried = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        this.offHelpdeskQueried();\n        window.$crisp.push([\"on\", \"helpdesk:queried\", callback]);\n    };\n    CrispChat.prototype.offHelpdeskQueried = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"helpdesk:queried\"]);\n    };\n    return CrispChat;\n}());\n\nvar ChatboxColors;\n(function (ChatboxColors) {\n    ChatboxColors[\"Default\"] = \"default\";\n    ChatboxColors[\"Amber\"] = \"amber\";\n    ChatboxColors[\"Black\"] = \"black\";\n    ChatboxColors[\"Blue\"] = \"blue\";\n    ChatboxColors[\"BlueGrey\"] = \"blue_grey\";\n    ChatboxColors[\"LightBlue\"] = \"light_blue\";\n    ChatboxColors[\"Brown\"] = \"brown\";\n    ChatboxColors[\"Cyan\"] = \"cyan\";\n    ChatboxColors[\"Green\"] = \"green\";\n    ChatboxColors[\"LightGreen\"] = \"light_green\";\n    ChatboxColors[\"Grey\"] = \"grey\";\n    ChatboxColors[\"Indigo\"] = \"indigo\";\n    ChatboxColors[\"Orange\"] = \"orange\";\n    ChatboxColors[\"DeepOrange\"] = \"deep_orange\";\n    ChatboxColors[\"Pink\"] = \"pink\";\n    ChatboxColors[\"Purple\"] = \"purple\";\n    ChatboxColors[\"DeepPurple\"] = \"deep_purple\";\n    ChatboxColors[\"Red\"] = \"red\";\n    ChatboxColors[\"Teal\"] = \"teal\";\n})(ChatboxColors || (ChatboxColors = {}));\nvar ChatboxPosition;\n(function (ChatboxPosition) {\n    ChatboxPosition[\"Left\"] = \"left\";\n    ChatboxPosition[\"Right\"] = \"right\";\n})(ChatboxPosition || (ChatboxPosition = {}));\nvar Crisp = /** @class */ (function () {\n    function Crisp() {\n        // Options\n        this.clientUrl = \"https://client.crisp.chat/l.js\";\n        this.websiteId = \"\";\n        this.autoload = true;\n        // States\n        this.injected = false;\n        this.chat = new CrispChat(this);\n        this.session = new CrispSession(this);\n        this.user = new CrispUser(this);\n        this.message = new CrispMessage(this);\n        this.trigger = new CrispTrigger(this);\n    }\n    Crisp.prototype.configure = function (websiteId, options) {\n        if (options === void 0) { options = {}; }\n        this.websiteId = websiteId;\n        this.tokenId = options.tokenId;\n        this.locale = options.locale;\n        this.sessionMerge = options.sessionMerge;\n        this.cookieDomain = options.cookieDomain;\n        this.cookieExpire = options.cookieExpire;\n        this.lockFullview = options.lockFullview;\n        this.lockMaximized = options.lockMaximized;\n        this.safeMode = options.safeMode;\n        if (options.clientUrl !== undefined) {\n            this.clientUrl = options.clientUrl;\n        }\n        if (options.autoload !== undefined) {\n            this.autoload = options.autoload;\n        }\n        // Autoload Crisp if option is enabled\n        if (this.autoload) {\n            this.load();\n        }\n    };\n    Crisp.prototype.load = function () {\n        var _head = document.getElementsByTagName(\"head\");\n        this.createSingletonIfNecessary();\n        // Prevents from loading Crisp twice\n        if (this.isCrispInjected() === true) {\n            return;\n        }\n        if (!this.websiteId) {\n            throw new Error(\"websiteId must be set before loading Crisp\");\n        }\n        window.CRISP_WEBSITE_ID = this.websiteId;\n        window.CRISP_RUNTIME_CONFIG = {};\n        if (this.tokenId) {\n            window.CRISP_TOKEN_ID = this.tokenId;\n        }\n        if (this.sessionMerge) {\n            window.CRISP_RUNTIME_CONFIG.session_merge = true;\n        }\n        if (this.locale) {\n            window.CRISP_RUNTIME_CONFIG.locale = this.locale;\n        }\n        if (this.lockFullview) {\n            window.CRISP_RUNTIME_CONFIG.lock_full_view = true;\n        }\n        if (this.lockMaximized) {\n            window.CRISP_RUNTIME_CONFIG.lock_maximized = true;\n        }\n        if (this.cookieDomain) {\n            window.CRISP_COOKIE_DOMAIN = this.cookieDomain;\n        }\n        if (this.cookieExpire) {\n            window.CRISP_COOKIE_EXPIRE = this.cookieExpire;\n        }\n        if (!_head || !_head[0]) {\n            return this.deferredLoading();\n        }\n        if (this.safeMode === true) {\n            this.setSafeMode(true);\n        }\n        var _script = document.createElement(\"script\");\n        _script.src = this.clientUrl;\n        _script.async = true;\n        _head[0].appendChild(_script);\n        this.injected = true;\n    };\n    Crisp.prototype.setTokenId = function (tokenId) {\n        this.tokenId = tokenId;\n        // Refresh injected token?\n        if (this.isCrispInjected() === true) {\n            if (tokenId) {\n                window.CRISP_TOKEN_ID = tokenId;\n            }\n            else {\n                delete window.CRISP_TOKEN_ID;\n            }\n        }\n    };\n    Crisp.prototype.setZIndex = function (zIndex) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"container:index\", [zIndex]]);\n    };\n    Crisp.prototype.setColorTheme = function (color) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"color:theme\", [color]]);\n    };\n    Crisp.prototype.setHideOnAway = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"hide:on:away\", [enabled]]);\n    };\n    Crisp.prototype.setHideOnMobile = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"hide:on:mobile\", [enabled]]);\n    };\n    Crisp.prototype.setPosition = function (position) {\n        this.createSingletonIfNecessary();\n        $crisp.push([\"config\", \"position:reverse\", [\n                position === ChatboxPosition.Left\n            ]]);\n    };\n    Crisp.prototype.setAvailabilityTooltip = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"availability:tooltip\", [enabled]]);\n    };\n    Crisp.prototype.setVacationMode = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"hide:vacation\", [enabled]]);\n    };\n    Crisp.prototype.setSafeMode = function (safe) {\n        if (safe === void 0) { safe = true; }\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"safe\", safe]);\n    };\n    Crisp.prototype.muteSound = function (mute) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"sound:mute\", [mute]]);\n    };\n    Crisp.prototype.toggleOperatorCount = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"show:operator:count\", [enabled]]);\n    };\n    Crisp.prototype.onWebsiteAvailabilityChanged = function (callback) {\n        this.createSingletonIfNecessary();\n        this.offWebsiteAvailabilityChanged();\n        window.$crisp.push([\"on\", \"website:availability:changed\", callback]);\n    };\n    Crisp.prototype.offWebsiteAvailabilityChanged = function () {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"website:availability:changed\"]);\n    };\n    Crisp.prototype.createSingletonIfNecessary = function () {\n        // Assigns $crisp singleton\n        if (window.$crisp === undefined) {\n            window.$crisp = [];\n        }\n    };\n    Crisp.prototype.autoInjectIfNecessary = function () {\n        if (!this.isCrispInjected()) {\n            this.load();\n        }\n    };\n    Crisp.prototype.isCrispInjected = function () {\n        // Check if Crisp was injected (either from the Web SDK, or from another \\\n        //   source)\n        if (this.injected === true || (window.$crisp && window.$crisp.is)) {\n            return true;\n        }\n        return false;\n    };\n    Crisp.prototype.deferredLoading = function () {\n        var _this = this;\n        document.addEventListener(\"DOMContentLoaded\", function () {\n            _this.load();\n        });\n    };\n    return Crisp;\n}());\nvar singleton = new Crisp();\n\n\n//# sourceMappingURL=crisp.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL2NyaXNwLXNkay13ZWIvZGlzdC9jcmlzcC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFaUc7QUFDakciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcmlzcC8uLi9ub2RlX21vZHVsZXMvY3Jpc3Atc2RrLXdlYi9kaXN0L2NyaXNwLmVzbS5qcz8zOTU3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBDcmlzcE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3Jpc3BNZXNzYWdlKGNyaXNwKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY3Jpc3A7XG4gICAgfVxuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2V0TWVzc2FnZVRleHQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwibWVzc2FnZTp0ZXh0XCIsIFtjb250ZW50XV0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwibWVzc2FnZTpzZW5kXCIsIFt0eXBlLCBjb250ZW50XV0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zZW5kVGV4dCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2VuZChcInRleHRcIiwgY29udGVudCk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNlbmRGaWxlID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZW5kKFwiZmlsZVwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2VuZEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2VuZChcImFuaW1hdGlvblwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2VuZEF1ZGlvID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZW5kKFwiYXVkaW9cIiwgY29udGVudCk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAodHlwZSwgY29udGVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnNob3dcIiwgW3R5cGUsIGNvbnRlbnRdXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dUZXh0ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zaG93KFwidGV4dFwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICB0aGlzLnNob3coXCJmaWxlXCIsIGNvbnRlbnQpO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zaG93QW5pbWF0aW9uID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zaG93KFwiYW5pbWF0aW9uXCIsIGNvbnRlbnQpO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zaG93QXVkaW8gPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICB0aGlzLnNob3coXCJhdWRpb1wiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd1BpY2tlciA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2hvdyhcInBpY2tlclwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd0ZpZWxkID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zaG93KFwiZmllbGRcIiwgY29udGVudCk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dDYXJvdXNlbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2hvdyhcImNhcm91c2VsXCIsIGNvbnRlbnQpO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5tYXJrQXNSZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnJlYWRcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zdGFydFRocmVhZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcIm1lc3NhZ2U6dGhyZWFkOnN0YXJ0XCIsIFtuYW1lXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5lbmRUaHJlYWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnRocmVhZDplbmRcIiwgW25hbWVdXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9uTWVzc2FnZVNlbnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgdGhpcy5vZmZNZXNzYWdlU2VudCgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJtZXNzYWdlOnNlbnRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUub2ZmTWVzc2FnZVNlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJtZXNzYWdlOnNlbnRcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5vbk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB0aGlzLm9mZk1lc3NhZ2VSZWNlaXZlZCgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJtZXNzYWdlOnJlY2VpdmVkXCIsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9mZk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcIm1lc3NhZ2U6cmVjZWl2ZWRcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5vbk1lc3NhZ2VDb21wb3NlU2VudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB0aGlzLm9mZk1lc3NhZ2VDb21wb3NlU2VudCgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJtZXNzYWdlOmNvbXBvc2U6c2VudFwiLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5vZmZNZXNzYWdlQ29tcG9zZVNlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJtZXNzYWdlOmNvbXBvc2U6c2VudFwiXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9uTWVzc2FnZUNvbXBvc2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB0aGlzLm9mZk1lc3NhZ2VDb21wb3NlUmVjZWl2ZWQoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwibWVzc2FnZTpjb21wb3NlOnJlY2VpdmVkXCIsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9mZk1lc3NhZ2VDb21wb3NlUmVjZWl2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJtZXNzYWdlOmNvbXBvc2U6cmVjZWl2ZWRcIl0pO1xuICAgIH07XG4gICAgcmV0dXJuIENyaXNwTWVzc2FnZTtcbn0oKSk7XG5cbnZhciBDcmlzcFVzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3Jpc3BVc2VyKGNyaXNwKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY3Jpc3A7XG4gICAgfVxuICAgIENyaXNwVXNlci5wcm90b3R5cGUuc2V0Tmlja25hbWUgPSBmdW5jdGlvbiAobmlja25hbWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcInNldFwiLCBcInVzZXI6bmlja25hbWVcIiwgW25pY2tuYW1lXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5zZXRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCwgaG1hYykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwidXNlcjplbWFpbFwiLCBbZW1haWwsIGhtYWNdXSk7XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLnNldFBob25lID0gZnVuY3Rpb24gKHBob25lKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJ1c2VyOnBob25lXCIsIFtwaG9uZV1dKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuc2V0QXZhdGFyID0gZnVuY3Rpb24gKGF2YXRhcikge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwidXNlcjphdmF0YXJcIiwgW2F2YXRhcl1dKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuc2V0Q29tcGFueSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBfcGF5bG9hZCA9IHt9O1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEudXJsKSB7XG4gICAgICAgICAgICAgICAgX3BheWxvYWQudXJsID0gZGF0YS51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIF9wYXlsb2FkLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLmVtcGxveW1lbnQpIHtcbiAgICAgICAgICAgICAgICBfcGF5bG9hZC5lbXBsb3ltZW50ID0gW1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmVtcGxveW1lbnQudGl0bGVcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmVtcGxveW1lbnQucm9sZSkge1xuICAgICAgICAgICAgICAgICAgICBfcGF5bG9hZC5lbXBsb3ltZW50LnB1c2goZGF0YS5lbXBsb3ltZW50LnJvbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwidXNlcjpjb21wYW55XCIsIFtuYW1lLCBfcGF5bG9hZF1dKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0RW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcInVzZXI6ZW1haWxcIik7XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLmdldFBob25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJ1c2VyOnBob25lXCIpO1xuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5nZXROaWNrbmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwidXNlcjpuaWNrbmFtZVwiKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0QXZhdGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJ1c2VyOmF2YXRhclwiKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0Q29tcGFueSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwidXNlcjpjb21wYW55XCIpO1xuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vbkVtYWlsQ2hhbmdlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMub2ZmRW1haWxDaGFuZ2VkKCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJ1c2VyOmVtYWlsOmNoYW5nZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vZmZFbWFpbENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcInVzZXI6ZW1haWw6Y2hhbmdlZFwiXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUub25QaG9uZUNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLm9mZlBob25lQ2hhbmdlZCgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwidXNlcjpwaG9uZTpjaGFuZ2VkXCIsIGNhbGxiYWNrXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUub2ZmUGhvbmVDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJ1c2VyOnBob25lOmNoYW5nZWRcIl0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLm9uTmlja25hbWVDaGFuZ2VkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5vZmZOaWNrbmFtZUNoYW5nZWQoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcInVzZXI6bmlja25hbWU6Y2hhbmdlZFwiLCBjYWxsYmFja10pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLm9mZk5pY2tuYW1lQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwidXNlcjpuaWNrbmFtZTpjaGFuZ2VkXCJdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vbkF2YXRhckNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLm9mZkF2YXRhckNoYW5nZWQoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcInVzZXI6YXZhdGFyOmNoYW5nZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vZmZBdmF0YXJDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJ1c2VyOmF2YXRhcjpjaGFuZ2VkXCJdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENyaXNwVXNlcjtcbn0oKSk7XG5cbnZhciBDcmlzcFRyaWdnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3Jpc3BUcmlnZ2VyKGNyaXNwKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY3Jpc3A7XG4gICAgfVxuICAgIENyaXNwVHJpZ2dlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwidHJpZ2dlcjpydW5cIiwgW25hbWVdXSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ3Jpc3BUcmlnZ2VyO1xufSgpKTtcblxudmFyIEV2ZW50c0NvbG9ycztcbihmdW5jdGlvbiAoRXZlbnRzQ29sb3JzKSB7XG4gICAgRXZlbnRzQ29sb3JzW1wiUmVkXCJdID0gXCJyZWRcIjtcbiAgICBFdmVudHNDb2xvcnNbXCJPcmFuZ2VcIl0gPSBcIm9yYW5nZVwiO1xuICAgIEV2ZW50c0NvbG9yc1tcIlllbGxvd1wiXSA9IFwieWVsbG93XCI7XG4gICAgRXZlbnRzQ29sb3JzW1wiR3JlZW5cIl0gPSBcImdyZWVuXCI7XG4gICAgRXZlbnRzQ29sb3JzW1wiQmx1ZVwiXSA9IFwiYmx1ZVwiO1xuICAgIEV2ZW50c0NvbG9yc1tcIlB1cnBsZVwiXSA9IFwicHVycGxlXCI7XG4gICAgRXZlbnRzQ29sb3JzW1wiUGlua1wiXSA9IFwicGlua1wiO1xuICAgIEV2ZW50c0NvbG9yc1tcIkJyb3duXCJdID0gXCJicm93blwiO1xuICAgIEV2ZW50c0NvbG9yc1tcIkdyZXlcIl0gPSBcImdyZXlcIjtcbiAgICBFdmVudHNDb2xvcnNbXCJCbGFja1wiXSA9IFwiYmxhY2tcIjtcbn0pKEV2ZW50c0NvbG9ycyB8fCAoRXZlbnRzQ29sb3JzID0ge30pKTtcbnZhciBDcmlzcFNlc3Npb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3Jpc3BTZXNzaW9uKGNyaXNwKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY3Jpc3A7XG4gICAgfVxuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAocmVsb2FkKSB7XG4gICAgICAgIGlmIChyZWxvYWQgPT09IHZvaWQgMCkgeyByZWxvYWQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcInNlc3Npb246cmVzZXRcIiwgW3JlbG9hZF1dKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5zZXRTZWdtZW50cyA9IGZ1bmN0aW9uIChzZWdtZW50cywgb3ZlcndyaXRlKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICRjcmlzcC5wdXNoKFtcInNldFwiLCBcInNlc3Npb246c2VnbWVudHNcIiwgW3NlZ21lbnRzLCBvdmVyd3JpdGVdXSk7XG4gICAgfTtcbiAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX3BheWxvYWQgPSBbXTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzVmFsaWREYXRhVmFsdWUoaXRlbVswXSkpIHtcbiAgICAgICAgICAgICAgICBfcGF5bG9hZC5wdXNoKFtpdGVtWzBdLCBpdGVtWzFdXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAkY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJzZXNzaW9uOmRhdGFcIiwgW19wYXlsb2FkXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5wdXNoRXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgY29sb3IpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0ge307IH1cbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSBFdmVudHNDb2xvcnMuQmx1ZTsgfVxuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJzZXNzaW9uOmV2ZW50XCIsIFtbW25hbWUsIGRhdGEsIGNvbG9yXV1dXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJzZXNzaW9uOmRhdGFcIiwga2V5KTtcbiAgICB9O1xuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwic2Vzc2lvbjppZGVudGlmaWVyXCIpO1xuICAgIH07XG4gICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5vbkxvYWRlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB0aGlzLm9mZkxvYWRlZCgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJzZXNzaW9uOmxvYWRlZFwiLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5vZmZMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJzZXNzaW9uOmxvYWRlZFwiXSk7XG4gICAgfTtcbiAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLmlzVmFsaWREYXRhVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIik7XG4gICAgfTtcbiAgICByZXR1cm4gQ3Jpc3BTZXNzaW9uO1xufSgpKTtcblxudmFyIENyaXNwQ2hhdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDcmlzcENoYXQoY3Jpc3ApIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjcmlzcDtcbiAgICB9XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5hdXRvSW5qZWN0SWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwiY2hhdDpzaG93XCJdKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuYXV0b0luamVjdElmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImNoYXQ6aGlkZVwiXSk7XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmF1dG9JbmplY3RJZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJjaGF0Om9wZW5cIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJjaGF0OmNsb3NlXCJdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5zZXRIZWxwZGVza1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImhlbHBkZXNrOnNlYXJjaFwiXSk7XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLm9wZW5IZWxwZGVza0FydGljbGUgPSBmdW5jdGlvbiAobG9jYWxlLCBzbHVnLCB0aXRsZSwgY2F0ZWdvcnkpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwiaGVscGRlc2s6YXJ0aWNsZTpvcGVuXCIsIFtcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgc2x1ZyxcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeVxuICAgICAgICAgICAgXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5xdWVyeUhlbHBkZXNrID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImhlbHBkZXNrOnF1ZXJ5XCIsIFtxdWVyeV1dKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUudW5yZWFkQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcImNoYXQ6dW5yZWFkOmNvdW50XCIpO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5pc0NoYXRPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5pcyhcImNoYXQ6b3BlbmVkXCIpO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5pcyhcImNoYXQ6dmlzaWJsZVwiKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub25DaGF0SW5pdGlhdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHRoaXMub2ZmQ2hhdEluaXRpYXRlZCgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJjaGF0OmluaXRpYXRlZFwiLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vZmZDaGF0SW5pdGlhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwiY2hhdDppbml0aWF0ZWRcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vbkNoYXRPcGVuZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgdGhpcy5vZmZDaGF0T3BlbmVkKCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcImNoYXQ6b3BlbmVkXCIsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLm9mZkNoYXRPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJjaGF0Om9wZW5lZFwiXSk7XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLm9uQ2hhdENsb3NlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB0aGlzLm9mZkNoYXRDbG9zZWQoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwiY2hhdDpjbG9zZWRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub2ZmQ2hhdENsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcImNoYXQ6Y2xvc2VkXCJdKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub25IZWxwZGVza1F1ZXJpZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgdGhpcy5vZmZIZWxwZGVza1F1ZXJpZWQoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwiaGVscGRlc2s6cXVlcmllZFwiLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vZmZIZWxwZGVza1F1ZXJpZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJoZWxwZGVzazpxdWVyaWVkXCJdKTtcbiAgICB9O1xuICAgIHJldHVybiBDcmlzcENoYXQ7XG59KCkpO1xuXG52YXIgQ2hhdGJveENvbG9ycztcbihmdW5jdGlvbiAoQ2hhdGJveENvbG9ycykge1xuICAgIENoYXRib3hDb2xvcnNbXCJEZWZhdWx0XCJdID0gXCJkZWZhdWx0XCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkFtYmVyXCJdID0gXCJhbWJlclwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJCbGFja1wiXSA9IFwiYmxhY2tcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiQmx1ZVwiXSA9IFwiYmx1ZVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJCbHVlR3JleVwiXSA9IFwiYmx1ZV9ncmV5XCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkxpZ2h0Qmx1ZVwiXSA9IFwibGlnaHRfYmx1ZVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJCcm93blwiXSA9IFwiYnJvd25cIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiQ3lhblwiXSA9IFwiY3lhblwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJHcmVlblwiXSA9IFwiZ3JlZW5cIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiTGlnaHRHcmVlblwiXSA9IFwibGlnaHRfZ3JlZW5cIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiR3JleVwiXSA9IFwiZ3JleVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJJbmRpZ29cIl0gPSBcImluZGlnb1wiO1xuICAgIENoYXRib3hDb2xvcnNbXCJPcmFuZ2VcIl0gPSBcIm9yYW5nZVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJEZWVwT3JhbmdlXCJdID0gXCJkZWVwX29yYW5nZVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJQaW5rXCJdID0gXCJwaW5rXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIlB1cnBsZVwiXSA9IFwicHVycGxlXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkRlZXBQdXJwbGVcIl0gPSBcImRlZXBfcHVycGxlXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIlJlZFwiXSA9IFwicmVkXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIlRlYWxcIl0gPSBcInRlYWxcIjtcbn0pKENoYXRib3hDb2xvcnMgfHwgKENoYXRib3hDb2xvcnMgPSB7fSkpO1xudmFyIENoYXRib3hQb3NpdGlvbjtcbihmdW5jdGlvbiAoQ2hhdGJveFBvc2l0aW9uKSB7XG4gICAgQ2hhdGJveFBvc2l0aW9uW1wiTGVmdFwiXSA9IFwibGVmdFwiO1xuICAgIENoYXRib3hQb3NpdGlvbltcIlJpZ2h0XCJdID0gXCJyaWdodFwiO1xufSkoQ2hhdGJveFBvc2l0aW9uIHx8IChDaGF0Ym94UG9zaXRpb24gPSB7fSkpO1xudmFyIENyaXNwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENyaXNwKCkge1xuICAgICAgICAvLyBPcHRpb25zXG4gICAgICAgIHRoaXMuY2xpZW50VXJsID0gXCJodHRwczovL2NsaWVudC5jcmlzcC5jaGF0L2wuanNcIjtcbiAgICAgICAgdGhpcy53ZWJzaXRlSWQgPSBcIlwiO1xuICAgICAgICB0aGlzLmF1dG9sb2FkID0gdHJ1ZTtcbiAgICAgICAgLy8gU3RhdGVzXG4gICAgICAgIHRoaXMuaW5qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGF0ID0gbmV3IENyaXNwQ2hhdCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gbmV3IENyaXNwU2Vzc2lvbih0aGlzKTtcbiAgICAgICAgdGhpcy51c2VyID0gbmV3IENyaXNwVXNlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbmV3IENyaXNwTWVzc2FnZSh0aGlzKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gbmV3IENyaXNwVHJpZ2dlcih0aGlzKTtcbiAgICB9XG4gICAgQ3Jpc3AucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uICh3ZWJzaXRlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdGhpcy53ZWJzaXRlSWQgPSB3ZWJzaXRlSWQ7XG4gICAgICAgIHRoaXMudG9rZW5JZCA9IG9wdGlvbnMudG9rZW5JZDtcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBvcHRpb25zLmxvY2FsZTtcbiAgICAgICAgdGhpcy5zZXNzaW9uTWVyZ2UgPSBvcHRpb25zLnNlc3Npb25NZXJnZTtcbiAgICAgICAgdGhpcy5jb29raWVEb21haW4gPSBvcHRpb25zLmNvb2tpZURvbWFpbjtcbiAgICAgICAgdGhpcy5jb29raWVFeHBpcmUgPSBvcHRpb25zLmNvb2tpZUV4cGlyZTtcbiAgICAgICAgdGhpcy5sb2NrRnVsbHZpZXcgPSBvcHRpb25zLmxvY2tGdWxsdmlldztcbiAgICAgICAgdGhpcy5sb2NrTWF4aW1pemVkID0gb3B0aW9ucy5sb2NrTWF4aW1pemVkO1xuICAgICAgICB0aGlzLnNhZmVNb2RlID0gb3B0aW9ucy5zYWZlTW9kZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2xpZW50VXJsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50VXJsID0gb3B0aW9ucy5jbGllbnRVcmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b2xvYWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hdXRvbG9hZCA9IG9wdGlvbnMuYXV0b2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXV0b2xvYWQgQ3Jpc3AgaWYgb3B0aW9uIGlzIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMuYXV0b2xvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9oZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpO1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIC8vIFByZXZlbnRzIGZyb20gbG9hZGluZyBDcmlzcCB0d2ljZVxuICAgICAgICBpZiAodGhpcy5pc0NyaXNwSW5qZWN0ZWQoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy53ZWJzaXRlSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIndlYnNpdGVJZCBtdXN0IGJlIHNldCBiZWZvcmUgbG9hZGluZyBDcmlzcFwiKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuQ1JJU1BfV0VCU0lURV9JRCA9IHRoaXMud2Vic2l0ZUlkO1xuICAgICAgICB3aW5kb3cuQ1JJU1BfUlVOVElNRV9DT05GSUcgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMudG9rZW5JZCkge1xuICAgICAgICAgICAgd2luZG93LkNSSVNQX1RPS0VOX0lEID0gdGhpcy50b2tlbklkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25NZXJnZSkge1xuICAgICAgICAgICAgd2luZG93LkNSSVNQX1JVTlRJTUVfQ09ORklHLnNlc3Npb25fbWVyZ2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvY2FsZSkge1xuICAgICAgICAgICAgd2luZG93LkNSSVNQX1JVTlRJTUVfQ09ORklHLmxvY2FsZSA9IHRoaXMubG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvY2tGdWxsdmlldykge1xuICAgICAgICAgICAgd2luZG93LkNSSVNQX1JVTlRJTUVfQ09ORklHLmxvY2tfZnVsbF92aWV3ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2NrTWF4aW1pemVkKSB7XG4gICAgICAgICAgICB3aW5kb3cuQ1JJU1BfUlVOVElNRV9DT05GSUcubG9ja19tYXhpbWl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvb2tpZURvbWFpbikge1xuICAgICAgICAgICAgd2luZG93LkNSSVNQX0NPT0tJRV9ET01BSU4gPSB0aGlzLmNvb2tpZURvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb29raWVFeHBpcmUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9DT09LSUVfRVhQSVJFID0gdGhpcy5jb29raWVFeHBpcmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfaGVhZCB8fCAhX2hlYWRbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkTG9hZGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNhZmVNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNhZmVNb2RlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgX3NjcmlwdC5zcmMgPSB0aGlzLmNsaWVudFVybDtcbiAgICAgICAgX3NjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIF9oZWFkWzBdLmFwcGVuZENoaWxkKF9zY3JpcHQpO1xuICAgICAgICB0aGlzLmluamVjdGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRUb2tlbklkID0gZnVuY3Rpb24gKHRva2VuSWQpIHtcbiAgICAgICAgdGhpcy50b2tlbklkID0gdG9rZW5JZDtcbiAgICAgICAgLy8gUmVmcmVzaCBpbmplY3RlZCB0b2tlbj9cbiAgICAgICAgaWYgKHRoaXMuaXNDcmlzcEluamVjdGVkKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbklkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LkNSSVNQX1RPS0VOX0lEID0gdG9rZW5JZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuQ1JJU1BfVE9LRU5fSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcImNvbnRhaW5lcjppbmRleFwiLCBbekluZGV4XV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnNldENvbG9yVGhlbWUgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiY29sb3I6dGhlbWVcIiwgW2NvbG9yXV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnNldEhpZGVPbkF3YXkgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJoaWRlOm9uOmF3YXlcIiwgW2VuYWJsZWRdXSk7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuc2V0SGlkZU9uTW9iaWxlID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiaGlkZTpvbjptb2JpbGVcIiwgW2VuYWJsZWRdXSk7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAkY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJwb3NpdGlvbjpyZXZlcnNlXCIsIFtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9PT0gQ2hhdGJveFBvc2l0aW9uLkxlZnRcbiAgICAgICAgICAgIF1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRBdmFpbGFiaWxpdHlUb29sdGlwID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiYXZhaWxhYmlsaXR5OnRvb2x0aXBcIiwgW2VuYWJsZWRdXSk7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuc2V0VmFjYXRpb25Nb2RlID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiaGlkZTp2YWNhdGlvblwiLCBbZW5hYmxlZF1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRTYWZlTW9kZSA9IGZ1bmN0aW9uIChzYWZlKSB7XG4gICAgICAgIGlmIChzYWZlID09PSB2b2lkIDApIHsgc2FmZSA9IHRydWU7IH1cbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2FmZVwiLCBzYWZlXSk7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUubXV0ZVNvdW5kID0gZnVuY3Rpb24gKG11dGUpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwic291bmQ6bXV0ZVwiLCBbbXV0ZV1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS50b2dnbGVPcGVyYXRvckNvdW50ID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwic2hvdzpvcGVyYXRvcjpjb3VudFwiLCBbZW5hYmxlZF1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5vbldlYnNpdGVBdmFpbGFiaWxpdHlDaGFuZ2VkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgdGhpcy5vZmZXZWJzaXRlQXZhaWxhYmlsaXR5Q2hhbmdlZCgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJ3ZWJzaXRlOmF2YWlsYWJpbGl0eTpjaGFuZ2VkXCIsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUub2ZmV2Vic2l0ZUF2YWlsYWJpbGl0eUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcIndlYnNpdGU6YXZhaWxhYmlsaXR5OmNoYW5nZWRcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBBc3NpZ25zICRjcmlzcCBzaW5nbGV0b25cbiAgICAgICAgaWYgKHdpbmRvdy4kY3Jpc3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcCA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuYXV0b0luamVjdElmTmVjZXNzYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuaXNDcmlzcEluamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBDaGVjayBpZiBDcmlzcCB3YXMgaW5qZWN0ZWQgKGVpdGhlciBmcm9tIHRoZSBXZWIgU0RLLCBvciBmcm9tIGFub3RoZXIgXFxcbiAgICAgICAgLy8gICBzb3VyY2UpXG4gICAgICAgIGlmICh0aGlzLmluamVjdGVkID09PSB0cnVlIHx8ICh3aW5kb3cuJGNyaXNwICYmIHdpbmRvdy4kY3Jpc3AuaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuZGVmZXJyZWRMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIENyaXNwO1xufSgpKTtcbnZhciBzaW5nbGV0b24gPSBuZXcgQ3Jpc3AoKTtcblxuZXhwb3J0IHsgQ2hhdGJveENvbG9ycywgQ2hhdGJveFBvc2l0aW9uLCBzaW5nbGV0b24gYXMgQ3Jpc3AsIENyaXNwIGFzIENyaXNwQ2xhc3MsIEV2ZW50c0NvbG9ycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jpc3AuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/crisp-sdk-web/dist/crisp.esm.js\n");

/***/ })

};
;